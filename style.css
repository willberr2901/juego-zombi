/* style.css - V20.0 ESTRUCTURA RÍGIDA Y NEÓN */
body {
    margin: 0; padding: 0; background: #000;
    color: #eee; font-family: 'Courier New', monospace;
    overflow: hidden; touch-action: none; user-select: none;
}

/* FONDO TENEBROSO */
.dark-bg {
    position: absolute; inset: 0; opacity: 0.3;
    background: repeating-linear-gradient(45deg, #100, #100 10px, #000 10px, #000 20px);
    z-index: 1; pointer-events: none;
}
#vignette {
    position: absolute; inset: 0; z-index: 2; pointer-events: none;
    background: radial-gradient(circle, transparent 20%, #000 130%);
}

/* MENÚ PRINCIPAL */
.menu-overlay {
    position: absolute; inset: 0; z-index: 100;
    display: flex; justify-content: center; align-items: center;
    background: rgba(0,0,0,0.85);
}

/* --- EL CONTENEDOR MÁGICO (Mantiene todo unido) --- */
.layout-container {
    position: relative;
    width: 1100px; height: 600px; /* Tamaño fijo base */
    max-width: 95vw; max-height: 90vh; /* Se adapta si la pantalla es más chica */
    /* border: 1px solid red; Decomment para ver los límites */
    display: flex; justify-content: center; align-items: center;
}

/* --- ZOMBIS "CROQUIS NEÓN" (El nuevo efecto) --- */
.side-zombie {
    position: absolute; bottom: 0; width: 280px;
    z-index: 5; pointer-events: none; opacity: 0.8;
}
.side-zombie img {
    width: 100%;
    /* TRUCO AVANZADO: Invierte colores y aumenta contraste para crear "dibujo" */
    filter: invert(1) grayscale(1) contrast(10) drop-shadow(0 0 10px #ff0000);
}
.z-left { left: -20px; transform: scaleX(-1); }
.z-right { right: -20px; }

/* PANELES LATERALES (Posicionados absolutamente) */
.info-panel {
    position: absolute; top: 50%; transform: translateY(-50%);
    width: 220px; background: rgba(10, 0, 0, 0.85);
    border: 2px solid #700; padding: 15px; z-index: 20;
    box-shadow: 0 0 20px #500;
}
.p-left { left: 20px; border-left: 4px solid #f00; }
.p-right { right: 20px; border-right: 4px solid #f00; text-align: right; }

.panel-title { color: #f00; border-bottom: 1px dashed #555; margin: 0 0 10px 0; font-size: 14px; }
.details-list { list-style: none; padding: 0; font-size: 11px; color: #aaa; text-align: left; }
.details-list li { margin-bottom: 5px; } .ok { color: #0f0; } .bad { color: #f00; }
.alert-box { margin-top: 15px; background: #500; color: #fff; padding: 5px; text-align: center; font-weight: bold; animation: pulse 1s infinite; }
@keyframes pulse { 50% { opacity: 0.7; } }

.lore { font-size: 11px; font-style: italic; color: #ccc; }
.red-hr { border-color: #500; }
.objective-title { color: #f1c40f; font-weight: bold; margin-bottom: 0; }
.objective-text { color: #fff; font-size: 16px; font-weight: bold; margin-top: 5px; }

/* CENTRO */
.center-content {
    position: relative; z-index: 30; text-align: center; width: 400px;
}

.boss-glow img {
    width: 160px;
    filter: drop-shadow(0 0 30px #f00);
    animation: float 4s infinite ease-in-out;
}
@keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-15px);} }

.horror-title {
    font-size: 70px; margin: 10px 0; color: #fff;
    font-family: 'Impact', sans-serif; letter-spacing: -2px;
    text-shadow: 0 5px 0 #300;
}
.red-x { color: #f00; text-shadow: 0 0 30px #f00; font-size: 90px; }

#start-btn {
    padding: 18px 60px; font-size: 24px;
    background: #000; color: #f00;
    border: 3px solid #f00; cursor: pointer;
    font-family: 'Courier New', monospace; font-weight: 900;
    box-shadow: 0 0 20px #f00; letter-spacing: 3px;
    transition: 0.2s;
}
#start-btn:hover { background: #f00; color: #000; box-shadow: 0 0 50px #f00; }

/* RESPONSIVE (MÓVIL - Apilar ordenadamente) */
@media (max-width: 950px) {
    .layout-container { flex-direction: column; height: auto; padding-top: 20px; }
    .info-panel, .center-content, .side-zombie { position: relative; top: auto; left: auto; right: auto; transform: none; }
    .center-content { order: 1; margin-bottom: 30px; }
    .p-left { order: 2; width: 80%; margin-bottom: 10px; }
    .p-right { order: 3; width: 80%; text-align: left; border-right: 2px solid #700; border-left: 4px solid #f00; }
    .side-zombie { width: 150px; opacity: 0.4; bottom: auto; top: 50px; }
    .z-left { left: -20px; } .z-right { right: -20px; }
}

/* --- HUD JUEGO --- */
.ui-container { position: absolute; inset: 0; pointer-events: none; z-index: 50; }
.top-bar {
    position: absolute; top: 15px; left: 15px; display: flex; gap: 10px;
}
.stat-item {
    background: rgba(0,0,0,0.7); padding: 5px 12px;
    border: 1px solid #f00; color: #fff; font-weight: bold; font-size: 18px;
}
.health-wrap {
    position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
    width: 250px; display: flex; align-items: center; gap: 5px;
}
.hp-icon { color: #f00; font-size: 24px; }
.hp-track { width: 100%; height: 15px; background: #222; border: 2px solid #500; }
#health-bar { width: 100%; height: 100%; background: #f00; transition: width 0.2s; }

#pause-btn {
    position: absolute; right: 10px; top: 15px;
    background: #333; color: #fff; border: 1px solid #fff;
    cursor: pointer; pointer-events: auto; width: 40px; height: 35px;
}

/* CONTROLES */
#touch-zone { position: absolute; inset: 0; z-index: 40; }
#joystick-wrapper { position: absolute; width: 100px; height: 100px; border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; pointer-events: none; z-index: 45; }
#joystick-stick { position: absolute; width: 40px; height: 40px; background: rgba(255,255,255,0.6); border-radius: 50%; top: 50%; left: 50%; transform: translate(-50%, -50%); }
.action-btn { position: absolute; bottom: 50px; right: 30px; z-index: 60; pointer-events: auto; }
#btn-fire { width: 90px; height: 90px; border-radius: 50%; background: rgba(200, 0, 0, 0.5); border: 2px solid #fff; cursor: pointer; color: white; font-size: 35px; }
@media (min-width: 1024px) { #touch-zone, .action-btn { display: none; } }
